-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 28-02-2023 a las 21:57:53
-- Versión del servidor: 10.4.27-MariaDB
-- Versión de PHP: 8.1.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `gestortpv`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detalle_venta`
--

DROP TABLE IF EXISTS `detalle_venta`;
CREATE TABLE `detalle_venta` (
  `id_venta` int(11) NOT NULL,
  `id_producto` int(11) DEFAULT NULL,
  `num_linea` int(11) NOT NULL,
  `cantidad` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `detalle_venta`
--

INSERT INTO `detalle_venta` (`id_venta`, `id_producto`, `num_linea`, `cantidad`) VALUES
(6, NULL, 0, 2),
(6, NULL, 1, 1),
(7, NULL, 0, 7),
(7, NULL, 1, 5),
(8, NULL, 0, 9),
(8, NULL, 1, 5),
(9, NULL, 0, 116),
(10, NULL, 0, 10),
(12, 33, 0, 3),
(12, 35, 1, 3),
(12, 37, 2, 4),
(12, 38, 3, 5),
(12, 39, 4, 3);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `productos`
--

DROP TABLE IF EXISTS `productos`;
CREATE TABLE `productos` (
  `id_producto` int(11) NOT NULL,
  `nombre` varchar(100) NOT NULL,
  `precio` double DEFAULT 0,
  `stock` int(11) DEFAULT 0,
  `imagen` mediumblob NOT NULL DEFAULT ' '
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `productos`
--

INSERT INTO `productos` (`id_producto`, `nombre`, `precio`, `stock`, `imagen`) VALUES
(33, 'Coca-Cola', 2.5, 97, 0x89504e470d0a1a0a0000000d49484452000000640000006401000000005899a8f90000013349444154785e636018057405120c0cd28c705e050343fd6138ef0103c3c9670a500ee30906c60b5f1d60bc190c8c0b6a0e4079cc020ccc1afa0d301e1079c843390c6c12e9db1c4ce03c83a5eb040c603c3ec5b5390c2a301e4f62364f42028c27e31c2dc1e001e349dc1392603800e79d33b360b800e359b4996dee59de00e5594e49319ab8162667d8936bb6f1369cb7e65dcad6d970def9ba9cef4670def19c9c7c3318cfa0cd23d3590dce6360483c958bc44b3884e0317f48baf60ec6b390ff9172ed178c2793f0a7e6f91f184fbec1cde278158cc7c0e08060520720e211cc6b40e11d40e13d40e17d40e1fd40e1819dcf0c1563fc0722f961bcff0d40b21ece7b0022e03c20830f94bc203ca0c604081b08eaff3fe0877318e4ffff477200ff7fb0a95000370f02d89039a3807a00008d3058c525274fa20000000049454e44ae426082),
(35, 'Fanta de naranja', 2.5, 97, 0x89504e470d0a1a0a0000000d4948445200000064000000640803000000473c656600000300504c54450000000000330000660000990000cc0000ff0033000033330033660033990033cc0033ff0066000066330066660066990066cc0066ff0099000099330099660099990099cc0099ff00cc0000cc3300cc6600cc9900cccc00ccff00ff0000ff3300ff6600ff9900ffcc00ffff3300003300333300663300993300cc3300ff3333003333333333663333993333cc3333ff3366003366333366663366993366cc3366ff3399003399333399663399993399cc3399ff33cc0033cc3333cc6633cc9933cccc33ccff33ff0033ff3333ff6633ff9933ffcc33ffff6600006600336600666600996600cc6600ff6633006633336633666633996633cc6633ff6666006666336666666666996666cc6666ff6699006699336699666699996699cc6699ff66cc0066cc3366cc6666cc9966cccc66ccff66ff0066ff3366ff6666ff9966ffcc66ffff9900009900339900669900999900cc9900ff9933009933339933669933999933cc9933ff9966009966339966669966999966cc9966ff9999009999339999669999999999cc9999ff99cc0099cc3399cc6699cc9999cccc99ccff99ff0099ff3399ff6699ff9999ffcc99ffffcc0000cc0033cc0066cc0099cc00cccc00ffcc3300cc3333cc3366cc3399cc33cccc33ffcc6600cc6633cc6666cc6699cc66cccc66ffcc9900cc9933cc9966cc9999cc99cccc99ffcccc00cccc33cccc66cccc99ccccccccccffccff00ccff33ccff66ccff99ccffccccffffff0000ff0033ff0066ff0099ff00ccff00ffff3300ff3333ff3366ff3399ff33ccff33ffff6600ff6633ff6666ff6699ff66ccff66ffff9900ff9933ff9966ff9999ff99ccff99ffffcc00ffcc33ffcc66ffcc99ffccccffccffffff00ffff33ffff66ffff99ffffccffffff1212121818181e1e1e2424242a2a2a3030303636363c3c3c4242424848484e4e4e5454545a5a5a6060606666666c6c6c7272727878787e7e7e8484848a8a8a9090909696969c9c9ca2a2a2a8a8a8aeaeaeb4b4b4bababac0c0c0c6c6c6ccccccd2d2d2d8d8d8dededee4e4e4eaeaeaf0f0f0f6f6f6fcfcfc202962c30000077649444154785ead9a5d6c544514c7cf2db594fa11242a1a6334765104770b811afa283e98184a634d0dd535c490b4cfbea03521ae918484275fbb6f359bd4d0b4a444823ed8f8060443e1421b95c584c498188344495ab750d639f33d67e67eaced0ff67e9cfbf1bfe79c993373771b412efe79d46c376fdfde6ef6f21051834f931a901cd719b24e2edce0ab2bcb37bb23a817a079b3fbb50ddcd4e8b4cf4b2543a4d93c7be0cabfe2e64a04d79dbb20f35a43da8945765376c37ae1a827c2d66548bfdaa28d1a34c54d7a7364c4b22bce5f4848974f920897d851ea2d0d9fc3dd9151721cc9ad229248296e85bfb6bcbef5d90dd16afb5cf10978003071386236803b5bccfa8712543ea7d7060879c2bd78676f8736ecdacb166bf0c517e1123d252381f4b2cf7ec722c8a742458417448251629f60faf3a8b822c52270094f0360981a243580bbd446714412bc10ec0dbbc27c79849a28345c412f04c3092a8dcc803922cbf64e6ee633d3423d895788c1a294e04a66137345aeb10faaacacb0ff297284ace4534f601a55645ea8ce70b84ba22fa9c92722cc9518d72afb79bd594d0d18118962f40509ca243563b8949a967677f7012ee29e87d8b2e39e30ad240c1aa338d254d5def93ef8f545fbb08d2bd2842bd5936cbdb2912d3a1acabc82a28ad12ae02938a0d9d4caf36a90f37a02f1847595f137607a500449cb686f7a595cf6178cc0081f39f9cd4f52598393932636799893c9079318f05b5a2bd89e88890940753f5c6deee2213221eb2089657da3e25a060eb220378eb8468e2d52800b8b5f0ae7219a1ec4bce0cda3067ee439a53a708106f4b7570076f21bb34fff7707c4094c649b7a5a8512f96977a15e72a21a3fdc6ded7174031894eb8ada00901a30344fbb05cb4954dcc4fe1587e80180ab4e1d9bfc71329e76f332e6ec49269c4c0adac93cf0e071310a72a6459334ad29eed83e7c491d8543a1f887b072b264361311aeccbecd9b345bcc9878a5c0456aeea9f3d6149e12f79e7d19a6aaa251c0c24ef7680298a4983c4e782e2659f98c2dceca9d29fb8881e598e5d9ec7b2d210b513e5ba3dd2b34129921dd081885f2e545e68a95fa9c604e9a813a4bebd018ef744799688c13bd20bc9f99be16e91a8122bce61226c97ec2b4ab52a91776d273012e9eabd5a15307097332631d56a85c518f58e99cb443c89875aada50a536563be73e6428f1781365f71e60c9d468f5047ca463ec609e8d0d30af070765e193589d1139b428fb376dc6580405719736c6c2a7533296138fb3aa16083d179992270dcfd2e018664c520a5eef95e0fdb5c6c002147186856058b07a237e02819775426cae48c1be5928270e8167d639c94b1b5c0f64378325f8869a52694b9b2f591087f20df8aa9367864b06c7ed8cb1372ef9b0ebd458952d2220a956836d3e483f615cdc54b25ae2bae088c8cabba30e076d73eb1c5a8ced8ac4c345c69eafd954876f88be9d322c07a61f8c52d7e2bbc093f2aa30709159eb0c0ba7dd059bf9316ae01478194364f31289bf2f0fbb0c3b43567e666ad67c0c69c3c9209c716c8a45b9b6e7572159afc80c925ed5662a75224e1f313558b3400d125d7e32fa89570e0a015f94c701c494c5ed27f7f6f019a3dc63e3fa69edf8acd8dafdad3204f122c7713dd9e3ece108c737b011cb667e2c1430532e654d1bb4dc2d4649e11aa0061b2f60a65c8af076d5c570720a17d73ba5c89bea24051d7d5d920bbd0ed709ec57acc2bd843b42a42fd8d512c1fe2ca0d598bf2bc9d766ce46682e1713c245c0c66837341db04f2da3e6035c705738d13514d1ef851a5d939657b5edb4de02a34807e79bb8e04d7a01564ba289347913fec57c032c11f5914f3b498590f4248cf3d6f356cad815f884255fb8603735782d4c336837713129ca16e10f3741ade1aa8c65deee8f72e2e5f6f821ffada6ac26726f89d580ac54656b98c1c0589542a366dcae27c1f759c98762f5beda4f0e98424d20b58868dbfe88afb8aa6aad99421c6e7495d294cceb95bced42c37f01913798eac0fb06de93a6e6a9c541fba145a6028192315eb02772c74ff9910f63bf267291eceb4ed658d90ba43611cb0f29725dce2ac2945bb9b9c4d11022def8c7664e675abeb185ab41dad317725da9d8d696a1afed4ae4c411fb8b9ab541fca09d715da07e28114f7b0d04ee25c3758dff76b21ef87e58e15a0e3cc1ff2078172b27eb2113be8593f835cb245c4f5a579c5ef432487a93a14d7843b59f58f213074a35878844503e30e77d1f9c8fa5bbd4a2a09efc097df0b1fec1a21562788c9a1454e429beacb62eb3141ad72454849dba0f57e32dcac4291abe08fc2d54607c8e1c48230edcc8e01fdbcc8629b1953f6831ac06c6248d2f827e0b5f72cb2cd171891010b15572e5260e4e662c422278499fdec99459cad2088be045657d61a1fa917d8c92e947622ca3e5ce7dfc5734ce2bfdcf7b2f7c127c85c8d24812616358d32406e0d6f8a8d9d1dcc16fac7e7b8e9a3d9244f857ed963370b49bc87cff242e6fbde05a83248b4074673393e12f689caaf5f71e5fe1df12e5089420fd34dec32e587f4384bf907ef29e38f873eebff24a175193cbfbcdcb37b66d8c7a8c3deb3a87ec9303f522fb22973ce7fffe8cd9fee369b39d9bff00df7ce7e9dea187690000000049454e44ae426082),
(37, 'Nestea', 2.5, 96, 0x89504e470d0a1a0a0000000d4948445200000064000000640803000000473c656600000300504c54450000000000330000660000990000cc0000ff0033000033330033660033990033cc0033ff0066000066330066660066990066cc0066ff0099000099330099660099990099cc0099ff00cc0000cc3300cc6600cc9900cccc00ccff00ff0000ff3300ff6600ff9900ffcc00ffff3300003300333300663300993300cc3300ff3333003333333333663333993333cc3333ff3366003366333366663366993366cc3366ff3399003399333399663399993399cc3399ff33cc0033cc3333cc6633cc9933cccc33ccff33ff0033ff3333ff6633ff9933ffcc33ffff6600006600336600666600996600cc6600ff6633006633336633666633996633cc6633ff6666006666336666666666996666cc6666ff6699006699336699666699996699cc6699ff66cc0066cc3366cc6666cc9966cccc66ccff66ff0066ff3366ff6666ff9966ffcc66ffff9900009900339900669900999900cc9900ff9933009933339933669933999933cc9933ff9966009966339966669966999966cc9966ff9999009999339999669999999999cc9999ff99cc0099cc3399cc6699cc9999cccc99ccff99ff0099ff3399ff6699ff9999ffcc99ffffcc0000cc0033cc0066cc0099cc00cccc00ffcc3300cc3333cc3366cc3399cc33cccc33ffcc6600cc6633cc6666cc6699cc66cccc66ffcc9900cc9933cc9966cc9999cc99cccc99ffcccc00cccc33cccc66cccc99ccccccccccffccff00ccff33ccff66ccff99ccffccccffffff0000ff0033ff0066ff0099ff00ccff00ffff3300ff3333ff3366ff3399ff33ccff33ffff6600ff6633ff6666ff6699ff66ccff66ffff9900ff9933ff9966ff9999ff99ccff99ffffcc00ffcc33ffcc66ffcc99ffccccffccffffff00ffff33ffff66ffff99ffffccffffff1212121818181e1e1e2424242a2a2a3030303636363c3c3c4242424848484e4e4e5454545a5a5a6060606666666c6c6c7272727878787e7e7e8484848a8a8a9090909696969c9c9ca2a2a2a8a8a8aeaeaeb4b4b4bababac0c0c0c6c6c6ccccccd2d2d2d8d8d8dededee4e4e4eaeaeaf0f0f0f6f6f6fcfcfc202962c30000080c49444154785ed5594f6c145518ff5661ea6e69a11ce8a98d49070ec8ac31c4346a7af22046a89a3411d28381ab9c3c818bfc2b0b0d89442321f1a03d980dac364a8a845e3871c046366a3794a8d3986c35a68db150d85d3b05c7ef7b6ffebcf7e6ed6c87ed417f6566defbdeecfce6fbf7bef70680ff195c55e0639d2a786c34a4583b92188ab522418a893abca58a7d3ca10a1e07c8517aa40a05ac85262e14010c552a600d3471218f6747150b689dc48563aa4845cb24ae9b37e0dc39b0d50101adfac4dddf6b38dc1f0d83ab554ddcd3403a9853e492943aeaa33512176eb3eb76727d63b44602c3ec6c3b30a90c486889c41d3698b518623cdf12898009c8a9a210ad90b803410adaefc6f8bd159215efbacdb6633dd212c93aee75f8198f196944450b24385f91b33f2593d9712e49467245eca047c0b4c1c64cb9f3ad13e79244247fef56ea9f419aecc4a373481e509084a42d5a650df8103db367302e4b92911002169795c2a08a1462ac9590a428b0bcc82f3b1bea900e5ac948241686836056d056db242121637506ed842451962b4c93c38ab52c4bec2525a17a2eb19c45bf28f57d6b8628e64341621299e5c2f3146186e8762bfd54d8e14844526467a940c9e5dbb2ac8cd7ec10c48948184c5c9d28e9728329920e0838ee07ade424489357594803c9d530074e784f72121b2ab2c5a0d02e753d18f5a0999cc4044a74fe9a17a8c86f95c71916a425657212ca0b633ff0b77f168fcfb2d23861ce950cfa388b3bc770e05875fc23603f9fca98701329252a479af91391a4eb642d9b2f18878804230bbed8cd1ad3e069175de12722192c326b39063e65ff982fddfd79c5a9f4561c7baacad599a393db73d7bf21b94f4c7ad1c0a9a3052852a899b4561d1e85e9edacec205265ff9e2424569abda69d430ab2c7f00d3c1df26601db241daff6c3a5aa77bbe8f8d59284d99c173581123b1b14d7847ee61b15ab2311676e33589714587d27b0650b83b74c92775eab2151e6a4528e870f3daf8886da65e64e4837302423b1c232caf639b45cf49e405ed98505389f277331931520bbccc66afc1686a624a2162c0f30f5727e22144d072984d7de019ba0adc7eff968422297510f936830ee04135ee0d14560cbc92c5b212b93743c898e82dbc50ba79d3cba7c4c65d15d8c41d2269644763822cb369ff66489a5fb30d89e1e6c29093b6e6403cb09a9184b92d6eb61931625259e28e3a70e77616bbdbd1259173726d1527055705f054c177f57ed2071814f5c293f2f0534248998ca8369626584f337b1561584bd7b6a0ce38a4cc5f3520e309104eb74104d5a3d8054b1a1971aa5e3e461d7cbf9dcf1aea09eac4726c925d2545fce1c1d82f63ebac1828576b90cf9e85acc57308426074b8547d75ebbba8bebf2d24ce0727316803d2384544f6aa34350d53e3a84b3e92ee4f179e70f0273f0d90f52cb6d3cc939ece8fa5ef689831e9d4e373616c2e8ed82dc89b11363d7bff9c759c11fbcaa144272bcac88be3236723a0195e86a5b6eeb7b1d661ce30afbb0f20b8a7b58396c004d74d562f4e070f93469cfd8b867e4338cc4a12cc0f59a3402553d9c247b66fb30f5feb44dbacef62df1ab709f3803139a909c1ae457160dace655b3cb47c36d683668b3199aa2539d1d416b2e5d012591fa7e0c275541555a4270e848f4384aa789713cc5efa735afb80a9289f1eaf8047ff4f811f20bef3339bf03fbe30bc1fd5173457c526d27bb8b92bde6db7d5ef3249cc4361d83a27c0b5e597b08c6756a36d1e46555b00a447da7903870dd6b7d22c9132192670a890dfbc8ced37e427d2c0f37018b0d0d9a982b19ded1791d222438bbd14ca4c397a00d4f11e70146541921622eb8380adaa7b1294a2317f00c1ef8ebef55b912c2a4ada831b56be22e6a5ab709ad7a77ecc10bfee249755cd2442c3711e35e3cc32efed6200e6ad99248f8aa77849ea6b3cb697656f76a1a08ab678648c6434489332e7fb39123670ee3e556a4a48d7bb1b2571687d091281861f5027169dfe9f79431863ba37c9c524b67017949e4c5efa50378a297ee60fdb6c042a71c1a894e1b2138c776451a978cfe17abf003e057414b87e3ec8c1efd4e96c792f830c0f6796e79937b631ce0ffa322414b520c767e0c293083a0fc5a1cd0e08f22858d32450a2414786a7678fdd060cdf08ace634a74a98b19af6fb0e52fa1e037a278138f6c197e52e5117379af5ceea7b3c3fbb806ed9d6e109c22f0de9172f43d2142c2e17d3ff4d7ff3dce8f74214310532419dfc7a354254d68a68681c80b699231359f9aef1e6676997f1a82bce89f6aa80b9fcf0e096b60abd976ced3a311d8377a0a12d9c5343bf319fa9a242784247ed8b1145c280fb04e5d08662ea93e174a24a421cb69372803e2ac6cd1da366d5ede9072f16f4bc63d925b70bbad8a63f4569c3a547a37e215cccb7dfc3e94dfa3396d231b87fa6c75e01ed928f3067dfb82ba68afb0c074ffb57971f3c385452385cca907bf7594b6fd0ab5ea4cc7ed873368c1a58d74c5f1cdfc3e94e315808f3f84c5891f7ea7c7ac5fe1fd07ecab0187e2f805b7c3cbbf0e28ddbbbf01e63b163ae78c3965a729a2ccfe2ca8f34fb435de97203b5ef8880ff39df37e08b401ed78f5f0dd5f8b2cb34348244de24a07ffd131143289a847086e3e275ab909b1cf0e209074864d11fcd9fceba582381389d024a302ae893a3d13564921912c752f756fe90efb1e527a0628871ffc9b210c613ff42c5bf6bf4b7983ffe48f00abd682109d20cb50cff485fb2684c134a1cf193e125134f049ad3cdf7ddfefa4c051e2aaacab7e71886ac251c62cb36669aef39676813ca116ab8395669fa894ff4efaefe15ffe945fecebcec8ea0000000049454e44ae426082),
(38, 'Red Bull', 2.5, 95, 0x89504e470d0a1a0a0000000d4948445200000064000000640803000000473c656600000300504c54450000000000330000660000990000cc0000ff0033000033330033660033990033cc0033ff0066000066330066660066990066cc0066ff0099000099330099660099990099cc0099ff00cc0000cc3300cc6600cc9900cccc00ccff00ff0000ff3300ff6600ff9900ffcc00ffff3300003300333300663300993300cc3300ff3333003333333333663333993333cc3333ff3366003366333366663366993366cc3366ff3399003399333399663399993399cc3399ff33cc0033cc3333cc6633cc9933cccc33ccff33ff0033ff3333ff6633ff9933ffcc33ffff6600006600336600666600996600cc6600ff6633006633336633666633996633cc6633ff6666006666336666666666996666cc6666ff6699006699336699666699996699cc6699ff66cc0066cc3366cc6666cc9966cccc66ccff66ff0066ff3366ff6666ff9966ffcc66ffff9900009900339900669900999900cc9900ff9933009933339933669933999933cc9933ff9966009966339966669966999966cc9966ff9999009999339999669999999999cc9999ff99cc0099cc3399cc6699cc9999cccc99ccff99ff0099ff3399ff6699ff9999ffcc99ffffcc0000cc0033cc0066cc0099cc00cccc00ffcc3300cc3333cc3366cc3399cc33cccc33ffcc6600cc6633cc6666cc6699cc66cccc66ffcc9900cc9933cc9966cc9999cc99cccc99ffcccc00cccc33cccc66cccc99ccccccccccffccff00ccff33ccff66ccff99ccffccccffffff0000ff0033ff0066ff0099ff00ccff00ffff3300ff3333ff3366ff3399ff33ccff33ffff6600ff6633ff6666ff6699ff66ccff66ffff9900ff9933ff9966ff9999ff99ccff99ffffcc00ffcc33ffcc66ffcc99ffccccffccffffff00ffff33ffff66ffff99ffffccffffff1212121818181e1e1e2424242a2a2a3030303636363c3c3c4242424848484e4e4e5454545a5a5a6060606666666c6c6c7272727878787e7e7e8484848a8a8a9090909696969c9c9ca2a2a2a8a8a8aeaeaeb4b4b4bababac0c0c0c6c6c6ccccccd2d2d2d8d8d8dededee4e4e4eaeaeaf0f0f0f6f6f6fcfcfc202962c30000060549444154785eed5a3d6cdb46143ea781bcc843e59d4b18c3b09610280c04e8d4a1b551a09a02645086da308c0e86064d9eea8e1d34a82ed000462671cb942c49bb75a9032100b358306a75516769a9166b51ef1d8ff7f3f88e3cdaee50205f60f3ee91bcefdeefddd1f984f923fcf669f3e95b2c75226cbc3b656c7cf530bc8f6f1560170b8ad00d26c1d7fcfacbce24b80f9df45f073f87114e54f372d39097c2d0a4dbd3ed329cf5b3a94d3cdeba67b4fb46db1f1e6f9924d58caed0c2821c2c922db3e38d100b72b048fe2bd8241ef62550fa9620393c7d3dc637ee128264637c75ea118908bdcec12996d1b8954f36c77e53d32422e1bbaaeb89d23201b89526191e6201c29d9094e14e48ca42f34e4896588070272465a0172d28e47ed1d9d76b8c1b9a443c9e8e2c02b9ff955a985a5fb8488fb0808422313244ceee2ceb87a2cef6f329c15755b8bc815fada0b6100560a7b998047629903ee91a454ed16532395d67a28abd059f495af3577813557fdbf1642c3a07f7864d025a523add128e10ee6907ec18621a7eeb490608a04b6874b238635e0bff151620987922667f1618925039a9c376dd3b80e758806068a21341b4607c95063d19a8378326c19125435d9b229f8dbd8ef45d8957b4b98cd86e05e3e5aa34db73b8e6f350a1574200206b5718d460038ac53786e113bf3a7413182435ddac028f8070246305e05311b16b952422723c5c4880181483747c3e580be051114acd85d32707ac09ee334d626dedcc13c78ff0eb668654203549279352eac3215df84d29fd04e19331643814c6fec45870f97932b76590475a24a5a03439805fdc2cafe07ab42b66d5d5f6edbb66299085719fd64691d867e6add40be0f552cf332321e55e01d5babc4ff0a0f6c6c389a2b0d72442e5aef7a0268a08009a84a841e9cb6543e481dfc89b4b3f9259561a10bfaa903e57b0e6dc1bbd1999250e1c271f3fcc64a901094d05d4912e373985152c10d869063f9b5b10bef5f47055d8323e04b5168cfdc48f60bbcb95254d72531cd582b72e8d3fe223febfa89a27c74d7e6c7ffd128b8b5191247ef0172759616d7ca31044812c409c6b78a1128931f4b96e96a30ac9b1d9f9dbec94a00a89759efbddec94a00209f2c3c0ee16a102094285b87491e4e6f9bde511c0f805969c6081848b64868c733e6fda02c6decdb101ffb1fb0a2e12965823c4433635fb80842503f16941229e191d0b4e1236d52cf18bc4b82101df04677f68b3c6c433122e926da33d48e670418388795fcc4eb2fe356391ba69c345f2d87841501857818cd210365c152d7774c8f0ea73d988953716d93d13cb5856cb1a1ba15b0a2e4df8692b7d379e6a3319061baad63449fdf2ccfd371e17499834d286db9d0a32aaeab33f6db9828b64c067c611e79292422c02f107433d1b2e922138fe324eecd857b962eb97a4e1de7069ed22615ff29ff7b904742181f5a5bae37f83fcc042378671c11ff75c215c63ad27841ed7e985285249fcd259985d9a3c4abea1f49016a13266da9a3dc2320917c9633bbf7d70e1dcc3b848d8e13a5189d6b30671af1139cf492e9fb00dea8b8a7409099157349c9a60acc22f6542e12fef4f7dde24447cd6b1c0853212315004eb4bea23fdbd82f7237dbf100524a254280516a989449911ada90864ad604195733a9e2fa7f0516a74b0c96bd8af6c38c94f773e0a78a833399d59ec8ae0024d44be475b9c63f05e862ee7110b80305f2a393f818b301a95bc295c24e74f78f444eb090fcc78cea6a11026b0cea4264bab7a2d61b02ffa6c1e01e931da22293848e2618b458b64da044773dbaf4979044b403dc9e26a8d8d60d3b2594f863c51437b1ba5e12061db091faa59dfe3cd36e36d9071cdc4bd1a5b8db685c7a7d15cd492fd663d9a6ecdf36e4b41931c2f3ef0c4dbdfdb17bd062461d48e60fec21730d8ea7abb01064c07dedb6fd746ecc3756e2f2b409334b989d6d5571fee976687089d67bd3ae829f15dc4f77bb9bdac004dc22d1219a3ae35c06ce82f5717fc673f92db0d00d74cd49e3ce875263c792012c0c6803f2c0fa6fc4aa816b3ed0d2c03d02434c21383e4d30aff65c9612e12d677d60a1c9548cc958fb0a61b954814cb92704801aaf8448027f5b2601124f12fa00274d8ace5ff720000000049454e44ae426082),
(39, 'Pepsi', 2.5, 97, 0x89504e470d0a1a0a0000000d49484452000000640000006401000000005899a8f9000000f049444154785e9dd43d0e82401404e0c74f580a1228294cd058d8194b2be1289e44293c188507d9c2c2d2c2c2c2a84bc3ce90ec069c8aaf00c2bec788a856209546d50fd46e8f3a96a82e43b5092068439444a0c8d8262425e64eabd83cd5a54c82ce2af54b5b15730447b11c299a2e6d65befe6eaf9bb15e28355df03e96887aa272503b473754f5a7ea3f75be4ed5d7a78b5381573128f2487d9c12f546e5a82687614a53e1f88c5250ad491dea2ca8136af946ad683f56da2cfa907587daf43fc1902d69412afb451f5278948ed5b89491e27e680e25246e146e1b6e226e296eb051bb71f3712b1ee840b94db1697f9d6662b12341ae090000000049454e44ae426082);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `usuarios`
--

DROP TABLE IF EXISTS `usuarios`;
CREATE TABLE `usuarios` (
  `nickname` varchar(100) NOT NULL,
  `nombre` varchar(100) DEFAULT NULL,
  `apellidos` varchar(100) DEFAULT NULL,
  `user_pass` int(4) NOT NULL,
  `rol` tinyint(1) NOT NULL DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `usuarios`
--

INSERT INTO `usuarios` (`nickname`, `nombre`, `apellidos`, `user_pass`, `rol`) VALUES
('jPolo', 'Jose polo', 'buenDia', 4444, 1),
('rbarea', 'Raul', 'Barea Rodriguez', 1234, 0),
('talonso', 'Tristan', 'Alonso', 1111, 0);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `ventas`
--

DROP TABLE IF EXISTS `ventas`;
CREATE TABLE `ventas` (
  `id_venta` int(11) NOT NULL,
  `nickname_usuario` varchar(100) NOT NULL,
  `fecha_venta` datetime DEFAULT NULL,
  `num_mesa` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Volcado de datos para la tabla `ventas`
--

INSERT INTO `ventas` (`id_venta`, `nickname_usuario`, `fecha_venta`, `num_mesa`) VALUES
(6, 'jPolo', '2023-02-28 20:13:56', 12),
(7, 'talonso', '2023-02-28 20:23:15', 13),
(8, 'talonso', '2023-02-28 20:34:15', 1),
(9, 'talonso', '2023-02-28 20:36:21', 2),
(10, 'talonso', '2023-02-28 20:59:15', 18),
(12, 'jPolo', '2023-02-28 21:56:54', 20);

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `detalle_venta`
--
ALTER TABLE `detalle_venta`
  ADD PRIMARY KEY (`id_venta`,`num_linea`),
  ADD KEY `id_producto` (`id_producto`);

--
-- Indices de la tabla `productos`
--
ALTER TABLE `productos`
  ADD PRIMARY KEY (`id_producto`);

--
-- Indices de la tabla `usuarios`
--
ALTER TABLE `usuarios`
  ADD PRIMARY KEY (`nickname`);

--
-- Indices de la tabla `ventas`
--
ALTER TABLE `ventas`
  ADD PRIMARY KEY (`id_venta`,`num_mesa`),
  ADD KEY `nickname_usuario` (`nickname_usuario`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `productos`
--
ALTER TABLE `productos`
  MODIFY `id_producto` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=49;

--
-- AUTO_INCREMENT de la tabla `ventas`
--
ALTER TABLE `ventas`
  MODIFY `id_venta` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `detalle_venta`
--
ALTER TABLE `detalle_venta`
  ADD CONSTRAINT `detalle_venta_ibfk_1` FOREIGN KEY (`id_venta`) REFERENCES `ventas` (`id_venta`) ON DELETE CASCADE,
  ADD CONSTRAINT `detalle_venta_ibfk_2` FOREIGN KEY (`id_producto`) REFERENCES `productos` (`id_producto`) ON DELETE SET NULL;

--
-- Filtros para la tabla `ventas`
--
ALTER TABLE `ventas`
  ADD CONSTRAINT `ventas_ibfk_1` FOREIGN KEY (`nickname_usuario`) REFERENCES `usuarios` (`nickname`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
